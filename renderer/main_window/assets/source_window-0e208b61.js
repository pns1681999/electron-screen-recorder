import"./modulepreload-polyfill-3cfb730f.js";import{M as m}from"./index-1bf8d157.js";const u=document.getElementById("btn-analyze"),p=document.getElementById("btn-record"),v=document.querySelector("#popup-modal");let o=null,n=null;document.querySelector(".modal-close-button").addEventListener("click",()=>{console.log("close modal"),o==null||o.hide()});const i=()=>{o.hide(),console.log("start rerecording"),window.api.selectSource(n)},E=l=>{const s=document.getElementById("btn-select-source"),r={onHide:()=>{console.log("modal is hidden"),s.removeEventListener("click",i)},onShow:()=>{console.log("modal is shown"),n=null}},c=document.getElementById("source-list"),a=l.map(e=>{const t=document.createElement("div");return t.classList.add("flex","flex-col","justify-between","items-center","p-4","text-dark-500","font-bold"),t.innerHTML=`
      <img src="${e.thumbnail}" alt="${e.name}" class="w-32 h-24 cursor-pointer hover:opacity-75 "/>
      <div class="text-sm">${e.name}</div>
    `,t.addEventListener("click",()=>{t.classList.add("border-2","border-red-400"),document.querySelectorAll("#source-list > div").forEach(d=>{d!==t&&d.classList.remove("border-2","border-red-400")}),n=e.id,n&&s.addEventListener("click",i)}),t});c.innerHTML="",a.forEach(e=>{c.appendChild(e)}),o=new m(v,r),o.show()};u.addEventListener("click",()=>{console.log("analyze video"),alert("Not implemented yet")});p.addEventListener("click",async()=>{console.log("record video");const l=await window.api.getSources();E(l)});
